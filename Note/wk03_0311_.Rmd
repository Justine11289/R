---
title: "wk03_0311_"
author: "Justine"
date: "2021/3/11"
output:
  html_document:
    toc: yes
    toc_depth: 3
    toc_float:
      collapsed: no
      smooth_scroll: yes     
---     

#  [Home](Home.html)  

## inclass  
# ch03 基本算術運算
## 物件 / 基本數學運算 / 優先順序
1.變數物件 :   存放資料的物件   
2.運算子 :  運算 (指數^, 乘除, 求餘%%, 求整%/%, 加減 )  
3.函數 : 四捨五入round(),平方根sqrt(), 絕對值abs(),  
         近似函數 :  
    - 小於等於的最近整數 floor(),  
    - 大於等於的最近整數 ceiling(),  
    - 直接取整數 trunc(),  
    - 有效位數四捨五入 signif()  
```{r}
round(123.456) 
round(123.456,2) 
round(123.456,-2) 
sqrt(100) 
100**(1/2) 
100**0.5  
abs(12.3) 
abs(-12.3) 
floor(12.3) 
ceiling(12.3) 
trunc(45.6) 
trunc(-45.6) 
signif(123.456789) 
```
    
## 優先順序       
1.指數        
2.乘 除 餘數 商數      
3.加 減      

### 物件命名原則        
1.不可保留字        
2.大小寫敏感    
3.不可數字開頭,只能字母, . 開頭   
4.只含字母數字_ .   
```{r}
# if <- 60 
x <- 5 
X <- 0
ans <- x + 100 
cat(ans, x, X) 
# ?cat()
print(x) 
```

## 特殊字:
1.Inf (Infinite): 無限大; 某一個數字除以0   
2.NaN (Not a Number) : 非數字;無定義數字; 無限大除以無限大    
3.NA (Not Available) : 缺失值   
```{r}
a <- 100/0
b <- Inf / Inf
c <- NULL

cat(a, b, c) 
```

# ch04 向量物件運算

向量 一維陣列       
數值型的向量物件        
創建        
存取        
運算        
運算函數        
```{r}
vec1 <- 10:20
cat(vec1)
vec2 <- vec1+1
vec3 <- vec1+vec2
```

邏輯值      
p.4-26 邏輯運算表       
== ; !=     
> ; >=  
< ; <=  
& ; |   
!   
xor 
4-4 ~ 4-7　範實例雙數題     
4-4 建立實數向量物件  1.5:4.7   
4-6 向量物件相加  x + 6:10     

--- 

## afterclass 
### 是非題  
1.(O)有2個指令如下:     
    > x1 <- 9%%5  
    > x2 <- 9%/%2  
    上述指令執行後,x1和x2的值是相同皆是4
    
```{r}  
9%%5    
9%/%2   
```

3.(O)有2個指令如下:       
    > x1 <- round(88.882,digits=2)  
    > x2 <- round(88.882,2)  
    上述指令執行後,x1和x2的值是相同皆是88.88    
    
```{r}
round(88.882,digits=2)  
round(88.882,2) 
```
5.(X)有1個指令如下:     
    > x <- factorial(3)     
    上述指令執行結果x值是8
    
```{r}  
factorial(3)    
```
    
7.(X)有2個指令如下:     
    > x <- 999 / 0   
    > is.infinite(x)     
    上述指令執行結果是FALSE 

```{r}  
x <- 999 / 0  
is.infinite(x)  
```

9.(O)有2個指令如下:     
    > x<- NA + 999  
    > is.na(x)   
    上述指令執行結果是TRUE  

```{r}  
x <- NA + 999  
is.na(x)    
```
    
### 選擇題        
2.(C)以下指令會得到和數值結果?       
    > x <- 1:3  
    > y <- x+1:6      
    > y    
    (A)[1] 1 3 5 (B)[1] 2 4 5 (C)[1] 2 4 6 5 7 8 (D)[1] 2 4 5 6 8 9     
    
```{r}  
x <- 1:3  
y <- x + 1:6      
y    
```
    
4.(B)以下哪一指令會得到下列結果?      
    [1] 2 2 2       
    (A)> rep(3,2)        
    (B)> rep(2,3)        
    (C)> rep(2,2,2)      
    (D)> rep(3,2,2)    
```{r}  
rep(3,2)
rep(2,3)
rep(2,2,2)  
rep(3,2,2)  
```

6.(C)以下指令會得到何數值結果?       
    > x <- c(12,7,8,4,19)  
    > rank(x)    
    (A)[1] 12 7 8 4 19  
    (B)[1] 4 7 8 4 19   
    (C)[1] 4 2 3 1 5    
    (D)[1] 19 12 8 7 4  
    
```{r}  
x <- c(12,7,8,4,19) 
rank(x) 
```     
    
8.(C)以下指令會得到何數值結果?     
    > max(c(9,99,Inf,NA),na.rm=TRUE)      
    (A)[1] 9 (B)[1] 99 (C)[1] lnf (D)[1] NA  
    
```{r}  
max(c(9,99,Inf,NA),na.rm=TRUE)  
```     
    
10.(B)以下指令會得到何結果?      
    > head(letters,5)    
    [1] "a" "b" "c" "d" "e"      
    > letters[c(1,5)]    
    (A)[1] "a" (B)[1] "a" "e" (C)[1] "b" (D)[1] "b" "c" "d"     
    
```{r}  
head(letters,5) 
letters[c(1,5)] 
```     
    
12.(A)以下指令會得到何數值結果?     
    > x <- c(6,9,NA,4,2)      
    > x[x > 5 & !is.na(x)]   
    (A)[1] 6 9 (B)[1] 6 9 NA (C)[1] 6 9 NA 4 2 (D)[1] 4 2   
    
```{r}  
x <- c(6,9,NA,4,2)  
x[x > 5 & !is.na(x)]    
```     
    
14.(D)使用head()或tail()函數,若省略第2個參數,系統將自動返回多少元素?     
    (A)1 (B)3 (C)5 (D)6   
    
16.(B)以下指令集會得到何數值結果?        
    > x <- seq(-2,2,0.5)   
    > length(x)  
    (A)[1] 5 (B)[1] 9 (C)[1] 2 (D)[1] 8     

```{r}  
x <- seq(-2,2,0.5)  
length(x)   
```     
---  

## selfpractice     
### 第二章是非題
2.(O)有2個指令如下:           
    > x1 <- 2^3 
    > x2 <-sqrt(64)      
    上述指令執行後,x1和x2的值是相同皆是8    
    
```{r}  
2^3   
sqrt(64)    
```     

4.(O)有1個指令如下:      
    > x <- round(1560.998,digits=-2)    
    上述指令執行結果x值是1600   

```{r}  
round(1560.998,digits=-2)   
```   

6.(O)有1個指令如下:      
    > x <- 10 / Inf      
    上述指令執行結果x值是0  
    
```{r}  
x <- 10 / Inf
cat(x)
```   

8.(X)有1個指令如下:      
    > x <- Inf / Inf    
    上述指令執行結果x值是1  
    
```{r}  
x <- Inf / Inf
cat(x)
```   

10.(O)有2個指令如下:     
    > x <- 888 * 999    
    > is.finite(x)    
    上述指令執行結果x值是TRUE   
    
```{r}  
x <- 888 * 999    
is.finite(x)
```   

### 第二章選擇題        
1.(D)下列哪一個R語言不合法的變數名稱?       
    (A)x3 (B)x.3 (C).x3 (D)3.x      
2.(C)以下指令會得到何數值結果?      
    > -3 + 2 ** 3 - 4^2 / 8     
    (A)[1]4 (B)[1]2 (C)[1]3 (D)[1]1     
    
```{r}  
-3 + 2 ** 3 - 4^2 / 8   
```     

3.(C)以下指令會得到何數值結果?      
    > round(pi,2)   
    (A)[1]3.1415926 (B)[1]pi (C)[1]3.14 (D)[1]3 
    
```{r}  
round(pi,2) 
```    

4.(B)以下指令會得到何數值結果?      
    > 36 ** 0.5     
    (A)[1]18 (B)[1]6 (C)[1]9 (D)[1]3    
    
```{r}  
36 ** 0.5
```    
    
5.(A)以下指令會得到何數值結果?       
    > signif(5678.778,6)    
    (A)[1]5678.78 (B)[1]5678.77 (C)[1]5678.778 (D)[1]5678.778000       
    
```{r}  
signif(5678.778,6)  
```   

6.(C)以下指令會得到何數值結果?      
    > floor(789.789)    
    (A)[1]789.8 (B)[1]789.789 (C)[1]789 (D)[1]790   
    
```{r}  
floor(789.789)  
```   

7.(B)以下指令會得到何數值結果?       
    > x <- Inf / 1000   
    (A)[1]0 (B)[1]Inf (C)[1]NA (D)[1]NaN    
    
```{r}  
x <- Inf / 1000 
cat(x)  
```   
## 第二章複選題     
1.(BD)下列哪些執行結果是TRUE?       
    (A)     
    > x <- Inf - Inf       
    > is.infinite(x)   
    (B)      
    > x <- Inf + Inf     
    > is.infinite(x)     
    (C)      
    > x <- Inf + 1010            
    > is.na(x)    
    (D)      
    > x <- Inf / Inf       
    > is.nan(x)      
    (E)         
    > x <- 1010            
    > is.nan(x)  

```{r}  
x <- Inf - Inf       
is.infinite(x)

x <- Inf + Inf              
is.infinite(x)

x <- Inf + 1010            
is.na(x)   

x <- Inf / Inf       
is.nan(x)

x <- 1010            
is.nan(x)
```   

## 第四章是非題     
1.(X)有2個指令如下:     
    > x <- -2.5:-3.9    
    >length(x)  
    上述指令執行結果如下:   
    [1]3    

```{r}  
x <- -2.5:-3.9    
length(x)  
```

2.(X)有2個指令如下:          
    > x <- 1:3  
    > y <- x + 9:11  
    上述指令執行後,下列的執行結果是正確的:  
    >y  
    [1]10 11 12     
    
```{r}  
x <- 1:3  
y <- x + 9:11
y
```

3.(X)下列指令會出現Warning message:     
    > x <- 1:5  
    > y <- x + 1:10 

```{r}  
x <- 1:5  
y <- x + 1:10
y
```

4.(O)在R語言的Console視窗,若某列以數學符號(+.-.*./)做結尾,此時R語言的編譯器會知道下一列式接續此列     

5.(X)有2個指令如下:          
    > x <- c(7,12,6,20,9)   
    > sort(x)   
    上述指令執行結果如下所示:   
    [1] 20 12 9 7 6 
    
```{r}
x <- c(7,12,6,20,9)   
sort(x)
```
6.(X)有1個指令如下:           
    > sum(c(99,NA,101,NA),na.rm=TRUE)   
    上述指令執行時會有錯誤訊息產生

```{r}
sum(c(99,NA,101,NA),na.rm=TRUE)
```

7.(O)字串是可以用雙引號(")也可以用單引號(')包夾

8.(O)有4個指令如下:  
    > x1 <- c(1:2)  
    > x2 <- c(1.5:2.5)  
    > x3 <- c(x1,x2)    
    > class(x3)  
    上述指令執行結果如下:   
    [1] "numeric"   
    
```{r}
x1 <- c(1:2)  
x2 <- c(1.5:2.5)  
x3 <- c(x1,x2)    
class(x3) 
```

9.(O)有2個指令如下:     
    > x <- 1:5  
    > x[-(2:5)]  
    上述指令執行結果如下:   
    [1]1  
    
```{r}
x <- 1:5
x[-(2:5)]
```

10.(X)有2個指令如下:     
    > head(letters)  
    [1] "a" "b" "c" "d" "e" "f"     
    > letters[c(1,5)]   
    上述指令執行結果如下:   
    [1] "e" 
    
```{r}
head(letters)
letters[c(1,5)]
```

11.(O)有2個指令如下:     
    > x <- c(10,NA,3,8)      
    > x[x > 6]  
    上述指令執行結果如下:   
    [1] 10 NA 8 
    
```{r}
x <- c(10,NA,3,8) 
x[x > 6]  
```

12.(X)有3個指令如下:     
    > x <- c(10,Inf,3,8)    
    > y <- x > 6    
    > any(y)    
    上述指令執行結果如下:   
    [1] FALSE   
    
```{r}
x <- c(10,Inf,3,8)    
y <- x > 6    
any(y)
```

13.(x)有3個指令如下:                
    > x <- c(5,7)   
    > names(x) <- c("Game1","Game2")    
    > names(x) <- NULL  
    上述指令相當於是將x向量元素值設為0  
    
```{r}
x <- c(5,7)   
names(x) <- c("Game1","Game2")    
names(x) <- NULL
```

14.(O)有2個指令如下:                
    > x.small <- names(head(sort(islands)))     
    > y.small <- names(sort(islands)[1:6])      
    上述x.small和y.small兩個向量內容是相同  
    
```{r}
x.small <- names(head(sort(islands)))
y.small <- names(sort(islands)[1:6])
```

15.(X)R語言邏輯運算的結果只可能有兩種:TRUE與FALSE       

16.(O)有一道指令如下:       
    > x[ is.na(x) ] <- 0    
    設定後,會將x物件內的所有缺失值以0替代   
    
```{r}
x[ is.na(x) ] <- 0
```

17.(X)有一道指令如下:       
    > x <- seq(-10,10,15)   
    執行後x向量的最大值是10     
    
```{r}
seq(-10,10,15)
```

## 第四章選擇題     
1.(D)假設有n個字母,想了解這n個字母的排列組合方法,下列哪一個函數可以最方便解這類問題            
    (A)max() (B)mean() (C)sd() (D)prod()        
    
3.(A)以下指令會得到何數值結果?      
    > seq(1,9,length.out = 5)      
    (A)[1] 1 3 5 7 9   (B)[1] 1 6  
    (C)[1] 1 2 3 4 5 6 (D)[1] 5 6 7 8 9 
    
```{r}
seq(1,9,length.out = 5)
```

5.(A)以下指令會得到何數值結果?            
    > x <- mean(8:12)   
    > x      
    (A)[1]10 (B)[1]8 (C)[1]12 (D)[1]5   
    
```{r}
x <- mean(8:12)   
x 
```

7.(D)以下指令會得到何數值結果?       
    > max(c(9,99,Inf,NA))   
    (A)[1]9 (B)[1]99 (C)[1]Inf (D)[1]NA 
    
```{r}
max(c(9,99,Inf,NA))
```
    
9.(A)以下指令會得到何數值結果?           
    > x <- c("Hi!", "Good", "Morning")  
    > nchar(x)  
    (A)[1] 3 4 7 (B)[1]3 (C)[1]14 (D)[1] 7 7    
    
```{r}
x <- c("Hi!", "Good", "Morning")  
nchar(x)  
```

11.(B)以下指令會得到何數值結果?     
    > x <- c(8,12,19,4,5)   
    > which.max(x)  
    (A)[1]19 (B)[1]3 (C)[1]4 (D)[1]5    
    
```{r}
x <- c(8,12,19,4,5)   
which.max(x)
```

13.(A)有以下指令:       
    > x1 <- c(9,6,8,3,4)     
    > x2 <- c(6,10,1,2,5)      
    > y <- x1 >= x2  
    將y放進哪一個函數內可得到下列結果:  
    [1]FALSE    
    (A)any() (B)rev() (C)sort() (D)all()    
    
```{r}
x1 <- c(9,6,8,3,4) 
x2 <- c(6,10,1,2,5)   
y <- x1 >= x2
any(y)
rev(y)
sort(y)
all(y)
```

15.(A)有以下指令:        
    > x <- 1:10       
    > names(x) <- letters[x]        
    > x      
    以下哪種方法不能傳回x向量的前5個元素?       
    (A)x["a","b","c","d","e"] (B)x[1:5]     
    (C)head(x,5)              (D)x[letters[1:5]]    

```{r}
x <- 1:10 
names(x) <- letters[x]    
x

x[1:5]

head(x,5)

x[letters[1:5]]
```

17.(C)以下指令集會得到何數值結果?        
    > c(3,2,1) == 2     
    (A)[1]TRUE (B)[1]FALSE (C)[1]FALSE TRUE FALSE (D)[1]NA  
    
```{r}
c(3,2,1) == 2
```

## 第四章複選題     
1.(BC)以下哪些方式可以用來計算1,2,3,4的平均值,執行結果如下所示:       
    [1] 2.5     
    (A)mean(1,2,3,4) (B)mean(c(1,2,3,4))        
    (C)sum(c(1,2,3,4))/4 (D)max(c(1,2,3,4))      
    (E)ave(c(1,2,3,4))      
    
```{r}
mean(1,2,3,4)
mean(c(1,2,3,4))
sum(c(1,2,3,4))/4
max(c(1,2,3,4))
ave(c(1,2,3,4))
```

2.(ABD)以下哪些函數可以用來產生x向量,x向量的值如下:               
    [1] 1 2 3 4 5 6 7 8 9 10                
    (A)seq(10)     (B)seq_len(10)       
    (C)numeric(10) (D)1:10      
    (E)seq(1,10,10)        
    
```{r}
seq(10)
seq_len(10)
numeric(10)
1:10
seq(1,10,10)
```


## 上課筆記  
floor()小於等於的最近整數                 
ceiling()大於等於的最近整數          
trunc()直接取整數       
signif()有效位數四捨五入               
sqrt()平方根        
abs()絕對值  
round()四捨五入     
Inf無限大       
NaN無定義數字       
NA缺失值        


## 補充筆記        
exp()e的x次方       
log(x)底數為e真數為x        
log(x,m)底數為m真數為x
科學符號e=10的?次方  en=10^n        
round(x,k)若k為負值則四捨五入取整數位數     
factorial()階乘     
is.infinite()測試是否為無限大       
is.finite()測試是否為有限大      
is.nan()測試是否為NaN       
is.na()測試是否為NA          
序列符號->始:末      
向量物件相加條件:長為短之倍數       
seq()建立向量物件函數 seq(始,末,by=每筆增值,length.out=元素個數)        
c()連接向量物件             
rep()重複向量物件       
rep(x,重複次數,每次每個元素的重複次數,length.out=向量長度)      
numeric()建立固定長度且物件元素預設值皆為0   
prod()積 可用於排列組合          
mean()平均值        
diff()元素和下一元素的差        
sort(x,FALSE)從小排到大     
sort(x,TRUE)從大排到小      
rank()從小排到大         
rev()顛倒排列       
length()向量長度或元素個數      
sd()樣本標準差      
var()樣本變異數     
nchar()元素的字元數     
str()物件的結構     
class()物件元素的資料類型       
tail(數據集的物件名稱)  head(數據集的物件名稱)      
省略第二個參數則列出6個         
which(條件)比較運算式             
NOT運算式:剔除   
any()有1元素為TRUE即回傳TRUE        
all()所有參數皆為TRUE才回傳TRUE     
object<-c(name1=data1,name2=data2...)       
names()查詢向量元素名稱/更改向量元素名稱        
ave()平均值